/* --- Global & Font --- */
:root {
    --font-family-sans-serif: 'Exo 2', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
}

body {
    font-family: var(--font-family-sans-serif);
    font-size: 0.9rem;
    transition: background-color 0.3s ease, color 0.3s ease;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Light Mode (Default) --- */
body {
    --bg-color: #f4f7fc;
    --text-color: #343a40;
    --text-color-muted: #6c757d;
    --card-bg: #ffffff;
    --card-border: #e9ecef;
    --navbar-bg: rgba(255, 255, 255, 0.85);
    --navbar-border: #dee2e6;
    --accent-color: #007bff;
    --profit-color-text: #20c997;
    --loss-color-text: #e55353; /* Brighter Red */
    --profit-bg-color: #20c997;
    --loss-bg-color: #e55353;
    --badge-profit-text: #ffffff;
    --badge-loss-text: #ffffff;
    --link-color: #007bff;
    --link-hover-color: #0056b3;
    --table-striped-bg: #f8f9fa;
    --table-hover-bg: #e9ecef;
}

/* --- Dark Mode --- */
body.dark-mode {
    --bg-color: #0a192f;
    --text-color: #ccd6f6;
    --text-color-muted: #8892b0;
    --card-bg: #112240;
    --card-border: #233554;
    --navbar-bg: rgba(10, 25, 47, 0.85);
    --navbar-border: #0a192f;
    --accent-color: #64ffda;
    --profit-color-text: #64ffda;
    --loss-color-text: #ff8b8b;
    --profit-bg-color: #64ffda;
    --loss-bg-color: #ff8b8b;
    --badge-profit-text: #0a192f;
    --badge-loss-text: #0a192f;
    --link-color: #64ffda;
    --link-hover-color: #a7ffeb;
    --table-striped-bg: #112a4c;
    --table-hover-bg: #1d3b66;
}

/* --- Apply Theme Colors --- */
body {
    background-color: var(--bg-color);
    color: var(--text-color);
}
h1, h2, h3, h4, h5, h6 {
    color: var(--text-color);
}
.navbar { background-color: var(--navbar-bg); border-bottom: 1px solid var(--navbar-border); backdrop-filter: blur(10px); }
.navbar-brand { color: var(--accent-color) !important; font-weight: 600; }
.nav-link { color: var(--text-color) !important; }
.nav-link.active { color: var(--accent-color) !important; font-weight: bold; }
.card { background-color: var(--card-bg); border: 1px solid var(--card-border); border-radius: 8px; }
.list-group-item { background-color: var(--card-bg); border-color: var(--card-border); color: var(--text-color); }
.list-group-item > span:first-child { color: var(--text-color); }
.table, .table th, .table td {
    color: var(--text-color);
}
.table {
    --bs-table-bg: transparent;
    --bs-table-border-color: var(--card-border);
    --bs-table-striped-bg: var(--table-striped-bg);
    --bs-table-hover-bg: var(--table-hover-bg);
}
.card-header, .card-body div, .card-body p {
    color: var(--text-color) !important;
}
.text-muted, .small.text-muted {
    color: var(--text-color-muted) !important;
}
.form-control, .form-select { background-color: var(--card-bg); color: var(--text-color); border-color: var(--card-border); }
.form-control::placeholder { color: var(--text-color-muted); }
.form-control:focus, .form-select:focus { background-color: var(--card-bg); color: var(--text-color); border-color: var(--accent-color); box-shadow: 0 0 0 0.2rem rgba(100, 255, 218, 0.25); }
.dropdown-menu { background-color: var(--card-bg); border-color: var(--card-border); }
.dropdown-item { color: var(--text-color); }
a { color: var(--link-color); text-decoration: none; }
a:hover { color: var(--link-hover-color); }

/* --- Hamburger Menu Icon Fix --- */
body.dark-mode .navbar-toggler {
    border-color: var(--card-border);
}
body.dark-mode .navbar-toggler-icon {
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28204, 214, 246, 0.75%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* --- Badges & P/L Colors --- */
.profit { color: var(--profit-color-text); font-weight: 600; }
.loss { color: var(--loss-color-text); font-weight: 600; }
.badge.bg-profit { background-color: var(--profit-bg-color) !important; color: var(--badge-profit-text) !important; }
.badge.bg-loss { background-color: var(--loss-bg-color) !important; color: var(--badge-loss-text) !important; }
.badge.bg-neutral { background-color: var(--text-color-muted) !important; color: var(--bg-color) !important; }
.form-check-input { border-color: #444; background-color: #333; }
.form-check-input:checked { background-color: var(--accent-color); border-color: var(--accent-color); }
#themeSwitch + label i { color: var(--text-color); }